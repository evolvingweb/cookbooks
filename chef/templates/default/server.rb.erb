#
# Chef Server Config File
#
# Dynamically generated by Chef - local modifications will be replaced

log_level          :info
log_location       STDOUT
ssl_verify_mode    :verify_none
chef_server_url    "<%= node[:chef][:server_url] %>"

couchdb_database   'chef'

cookbook_path      [ "<%= node[:chef][:serve_path] %>/cookbooks", "<%= node[:chef][:serve_path] %>/site-cookbooks" ]
cookbook_tarball_path "<%= node[:chef][:cache_path] %>/cookbook-tarballs"

file_cache_path    "<%= node[:chef][:cache_path] %>"
node_path          "<%= node[:chef][:serve_path] %>/nodes"
openid_store_path  "<%= node[:chef][:path] %>/openid/store"
openid_cstore_path "<%= node[:chef][:path] %>/openid/cstore"
search_index_path  "<%= node[:chef][:path] %>/search_index"
role_path          "<%= node[:chef][:serve_path] %>/roles"

validation_client_name "<%= node[:chef][:validation_client_name] %>"
validation_key         "/etc/chef/validation.pem"
client_key             "/etc/chef/client.pem"
web_ui_client_name     "chef-webui"
web_ui_key             "/etc/chef/webui.pem"

<% if node[:chef][:webui_enabled] -%>
web_ui_admin_user_name "admin"

<% end -%>
supportdir = "<%= node[:chef][:path] %>/support"
solr_jetty_path File.join(supportdir, "solr", "jetty")
solr_data_path  File.join(supportdir, "solr", "data")
solr_home_path  File.join(supportdir, "solr", "home")
solr_heap_size  "<%= node[:chef][:solr_heap_size] %>"

umask <%= node[:chef][:umask] %>

signing_ca_cert    "/etc/chef/certificates/cert.pem"
signing_ca_key     "/etc/chef/certificates/key.pem"
signing_ca_user    "root"
signing_ca_group   "root"
